int is_promise(pointer p)  { return (type(p)==T_PROMISE); }